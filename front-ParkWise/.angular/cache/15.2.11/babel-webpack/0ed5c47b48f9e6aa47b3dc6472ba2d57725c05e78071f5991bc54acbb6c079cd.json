{"ast":null,"code":"import { Parking } from 'src/app/models/parking';\nimport { DescriptionDialogComponent } from 'src/app/description-dialog/description-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/parkService/park.service\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ListParkingComponent_tr_32_a_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function ListParkingComponent_tr_32_a_13_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const parking_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openFullDescription($event, parking_r1.description));\n    });\n    i0.ɵɵtext(1, \" Read More\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListParkingComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 11);\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"slice\");\n    i0.ɵɵtemplate(13, ListParkingComponent_tr_32_a_13_Template, 2, 0, \"a\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ListParkingComponent_tr_32_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const parking_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.editeParking(parking_r1.id));\n    });\n    i0.ɵɵtext(20, \"Editer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"td\")(22, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ListParkingComponent_tr_32_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const parking_r1 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.confirmDeleteParking(parking_r1.id));\n    });\n    i0.ɵɵtext(23, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 15)(25, \"div\", 16)(26, \"div\", 17)(27, \"div\", 18)(28, \"h5\", 19);\n    i0.ɵɵtext(29, \"Full Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"button\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 21);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const parking_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.getImageUrl(parking_r1.image), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.adresse);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.capaciteTotale);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(12, 10, parking_r1.description, 0, 50));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", parking_r1.description.length > 50);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.latitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(parking_r1.longitude);\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.selectedDescription, \" \");\n  }\n}\nexport class ListParkingComponent {\n  constructor(formBuilder, parkingService, dialog, router) {\n    this.formBuilder = formBuilder;\n    this.parkingService = parkingService;\n    this.dialog = dialog;\n    this.router = router;\n    this.parking = new Parking();\n    this.editparking = new Parking();\n    this.selectedDescription = '';\n  }\n  ngOnInit() {\n    this.reloadData();\n  }\n  reloadData() {\n    this.parkingService.displayParking().subscribe(data => {\n      if (data) {\n        this.parkings = data;\n        console.log(this.parkings);\n      }\n    });\n  }\n  editeParking(id) {\n    this.router.navigate(['/modifierParking/' + id]);\n  }\n  /* public addOrEditeUser(parking:Parking ){\r\n     console.log(\"parkingggggggggg\",parking);\r\n     if(!this.id){\r\n       this.parkingService.addParking(parking).subscribe({\r\n         next: response => this.reloadData(),\r\n         error: error => console.log(error),\r\n         complete: () =>  this.parking=new Parking(),\r\n       });\r\n     }else{\r\n       this.parking.id=this.id;\r\n       this.parkingService.updateParking(parking).subscribe({\r\n         next: response => this.reloadData(),\r\n         error: error => console.log(error),\r\n         complete: () => this.parking=new Parking(),\r\n       });\r\n       this.id=null;\r\n     }\r\n     \r\n   }*/\n  deleteUser(id) {\n    console.log(id, \"dddddddddddddddddddddddddddd\");\n    this.parkingService.deleteParking(id).subscribe({\n      next: response => this.parkings = this.parkings?.filter(s => s.id != id),\n      error: error => console.log(error),\n      complete: () => console.log('Delete request completed.')\n    });\n  }\n  confirmDeleteParking(id) {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      this.deleteUser(id);\n    }\n  }\n  openFullDescription(event, description) {\n    event.preventDefault();\n    this.dialog.open(DescriptionDialogComponent, {\n      data: description\n    });\n  }\n  getImageUrl(filename) {\n    return `http://localhost:8080/api/file/get-image/${filename}`;\n  }\n  navigateToAddPage() {\n    this.router.navigate(['/admin/ajouterParking']);\n  }\n  static #_ = this.ɵfac = function ListParkingComponent_Factory(t) {\n    return new (t || ListParkingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ParkService), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListParkingComponent,\n    selectors: [[\"app-list-parking\"]],\n    decls: 33,\n    vars: 1,\n    consts: [[1, \"col-12\"], [1, \"rounded\", \"h-100\", \"p-4\"], [1, \"mb-4\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"content-wrapper\"], [1, \"container-xxl\", \"flex-grow-1\", \"container-p-y\"], [1, \"table-responsive\"], [1, \"table\", \"table-responsive\"], [\"scope\", \"col\"], [1, \"table-border-bottom-0\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"150px\", \"height\", \"150px\", 3, \"src\"], [\"href\", \"#\", \"class\", \"read-more-link\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"id\", \"descriptionModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"descriptionModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"descriptionModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismoss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [\"href\", \"#\", 1, \"read-more-link\", 3, \"click\"]],\n    template: function ListParkingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n        i0.ɵɵtext(3, \"List Sopra Parkings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ListParkingComponent_Template_button_click_4_listener() {\n          return ctx.navigateToAddPage();\n        });\n        i0.ɵɵtext(5, \"Add New Parking\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"table\", 7)(10, \"thead\")(11, \"tr\")(12, \"th\", 8);\n        i0.ɵɵtext(13, \"id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\", 8);\n        i0.ɵɵtext(15, \"image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\", 8);\n        i0.ɵɵtext(17, \"nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\", 8);\n        i0.ɵɵtext(19, \"adresse\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\", 8);\n        i0.ɵɵtext(21, \"capaciteTotale\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\", 8);\n        i0.ɵɵtext(23, \"description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\", 8);\n        i0.ɵɵtext(25, \"latitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\", 8);\n        i0.ɵɵtext(27, \"longitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"th\", 8)(29, \"th\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"tbody\", 9);\n        i0.ɵɵelement(31, \"tr\");\n        i0.ɵɵtemplate(32, ListParkingComponent_tr_32_Template, 33, 14, \"tr\", 10);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(32);\n        i0.ɵɵproperty(\"ngForOf\", ctx.parkings);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i5.SlicePipe],\n    styles: [\"*[_ngcontent-%COMP%]{\\n  color: bl;\\n  }\\n  \\n  .myrow[_ngcontent-%COMP%]{\\n      width: 50%;\\n      margin-left: 25%;\\n  }\\n  .mybutton[_ngcontent-%COMP%]{\\n  margin-right: 10%;\\n  margin-top: 20px;\\n  }\\n  .select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{\\n      color: black;\\n  }\\n  .option[_ngcontent-%COMP%]:not(first-child) {\\n      color: black;\\n  }\\n  \\n.btn[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem; \\n  font-size: 0.85rem; \\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  background-color: #f8d7da; \\n  color: #721c24; \\n}\\n\\n\\n.modal-body[_ngcontent-%COMP%] {\\n  padding: 20px; \\n}\\n\\n\\n.modal-footer[_ngcontent-%COMP%] {\\n  justify-content: center; \\n  border-top: none; \\n}\\n\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #6c757d; \\n  border-color: #6c757d; \\n}\\n\\n\\n.btn-danger[_ngcontent-%COMP%] {\\n  background-color: #dc3545; \\n  border-color: #dc3545; \\n}\\n\\n\\n.modal-content[_ngcontent-%COMP%] {\\n  border-radius: 10px; \\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFya2luZy9saXN0LXBhcmtpbmcvbGlzdC1wYXJraW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxTQUFTO0VBQ1Q7O0VBRUE7TUFDSSxVQUFVO01BQ1YsZ0JBQWdCO0VBQ3BCO0VBQ0E7RUFDQSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCO0VBQ0E7TUFDSSxZQUFZO0VBQ2hCO0VBQ0E7TUFDSSxZQUFZO0VBQ2hCO0VBQ0Esa0NBQWtDO0FBQ3BDO0VBQ0UsdUJBQXVCLEVBQUUscURBQXFEO0VBQzlFLGtCQUFrQixFQUFFLG1DQUFtQztBQUN6RDtBQUNBLGlCQUFpQjtBQUNqQjtFQUNFLHlCQUF5QixFQUFFLDhCQUE4QjtFQUN6RCxjQUFjLEVBQUUsK0JBQStCO0FBQ2pEOztBQUVBLGVBQWU7QUFDZjtFQUNFLGFBQWEsRUFBRSxzQ0FBc0M7QUFDdkQ7O0FBRUEsaUJBQWlCO0FBQ2pCO0VBQ0UsdUJBQXVCLEVBQUUsdUNBQXVDO0VBQ2hFLGdCQUFnQixFQUFFLG9DQUFvQztBQUN4RDs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSx5QkFBeUIsRUFBRSw4QkFBOEI7RUFDekQscUJBQXFCLEVBQUUsb0NBQW9DO0FBQzdEOztBQUVBLGtCQUFrQjtBQUNsQjtFQUNFLHlCQUF5QixFQUFFLDhCQUE4QjtFQUN6RCxxQkFBcUIsRUFBRSxvQ0FBb0M7QUFDN0Q7O0FBRUEsc0JBQXNCO0FBQ3RCO0VBQ0UsbUJBQW1CLEVBQUUscUJBQXFCO0VBQzFDLHVDQUF1QyxFQUFFLFVBQVU7QUFDckQiLCJzb3VyY2VzQ29udGVudCI6WyIqe1xuICBjb2xvcjogYmw7XG4gIH1cbiAgXG4gIC5teXJvd3tcbiAgICAgIHdpZHRoOiA1MCU7XG4gICAgICBtYXJnaW4tbGVmdDogMjUlO1xuICB9XG4gIC5teWJ1dHRvbntcbiAgbWFyZ2luLXJpZ2h0OiAxMCU7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIH1cbiAgLnNlbGVjdCAub3B0aW9ue1xuICAgICAgY29sb3I6IGJsYWNrO1xuICB9XG4gIC5vcHRpb246bm90KGZpcnN0LWNoaWxkKSB7XG4gICAgICBjb2xvcjogYmxhY2s7XG4gIH1cbiAgLyogUsODwqlkdWlyZSBsYSB0YWlsbGUgZGVzIGJvdXRvbnMgKi9cbi5idG4ge1xuICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTsgLyogQWp1c3RleiBsZXMgdmFsZXVycyBkZSBwYWRkaW5nIHNlbG9uIHZvcyBiZXNvaW5zICovXG4gIGZvbnQtc2l6ZTogMC44NXJlbTsgLyogUsODwqlkdWlyZSBsYSB0YWlsbGUgZGUgbGEgcG9saWNlICovXG59XG4vKiBNb2RhbCBIZWFkZXIgKi9cbi5tb2RhbC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhkN2RhOyAvKiBDb3VsZXVyIGRlIGZvbmQgZHUgaGVhZGVyICovXG4gIGNvbG9yOiAjNzIxYzI0OyAvKiBDb3VsZXVyIGR1IHRleHRlIGR1IGhlYWRlciAqL1xufVxuXG4vKiBNb2RhbCBCb2R5ICovXG4ubW9kYWwtYm9keSB7XG4gIHBhZGRpbmc6IDIwcHg7IC8qIEVzcGFjZW1lbnQgw4PCoCBsJ2ludMODwqlyaWV1ciBkdSBjb3JwcyAqL1xufVxuXG4vKiBNb2RhbCBGb290ZXIgKi9cbi5tb2RhbC1mb290ZXIge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgLyogQ2VudHJlciBsZXMgYm91dG9ucyBkYW5zIGxlIGZvb3RlciAqL1xuICBib3JkZXItdG9wOiBub25lOyAvKiBTdXBwcmltZXIgbGEgYm9yZHVyZSBzdXDDg8KpcmlldXJlICovXG59XG5cbi8qIEJvdXRvbiBDYW5jZWwgKi9cbi5idG4tc2Vjb25kYXJ5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzZjNzU3ZDsgLyogQ291bGV1ciBkZSBmb25kIGR1IGJvdXRvbiAqL1xuICBib3JkZXItY29sb3I6ICM2Yzc1N2Q7IC8qIENvdWxldXIgZGUgbGEgYm9yZHVyZSBkdSBib3V0b24gKi9cbn1cblxuLyogQm91dG9uIERlbGV0ZSAqL1xuLmJ0bi1kYW5nZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1OyAvKiBDb3VsZXVyIGRlIGZvbmQgZHUgYm91dG9uICovXG4gIGJvcmRlci1jb2xvcjogI2RjMzU0NTsgLyogQ291bGV1ciBkZSBsYSBib3JkdXJlIGR1IGJvdXRvbiAqL1xufVxuXG4vKiBTdHlsZSBkZSBsYSBtb2RhbCAqL1xuLm1vZGFsLWNvbnRlbnQge1xuICBib3JkZXItcmFkaXVzOiAxMHB4OyAvKiBCb3JkdXJlIGFycm9uZGllICovXG4gIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsgLyogT21icmUgKi9cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Parking","DescriptionDialogComponent","i0","ListParkingComponent","constructor","formBuilder","parkingService","dialog","router","ngOnInit","reloadData","displayParking","subscribe","data","parkings","console","log","editeParking","id","navigate","deleteUser","deleteParking","next","response","filter","s","error","complete","confirmDeleteParking","window","confirm","openFullDescription","event","description","preventDefault","open","getImageUrl","filename","navigateToAddPage","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-parking\\list-parking.component.ts","C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-parking\\list-parking.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Parking } from 'src/app/models/parking';\nimport { ParkService } from 'src/app/services/parkService/park.service';\nimport * as bootstrap from 'bootstrap';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DescriptionDialogComponent } from 'src/app/description-dialog/description-dialog.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder } from '@angular/forms';\n\ndeclare var $: any; // Déclarer jQuery si nécessaire\n\n\n@Component({\n  selector: 'app-list-parking',\n  templateUrl: './list-parking.component.html',\n  styleUrls: ['./list-parking.component.css']\n})\nexport class ListParkingComponent implements OnInit {\n  \n  parking:Parking=new Parking(); \n  parkings:any;\n  editparking:Parking=new Parking();\n  id: any;\n  selectedDescription:string='';\n  constructor(private formBuilder: FormBuilder,private parkingService: ParkService,public dialog: MatDialog ,private router:Router ) { }\n\n  ngOnInit(): void {\n    this.reloadData();\n    \n  }\n\n  reloadData() {\n    this.parkingService.displayParking().subscribe(data => {\n      if (data) {\n        this.parkings=data\n        console.log(this.parkings);\n      }\n    });\n  }\n  public editeParking(id:number){\n    this.router.navigate(['/modifierParking/'+id]);\n\n  }\n /* public addOrEditeUser(parking:Parking ){\n    console.log(\"parkingggggggggg\",parking);\n    if(!this.id){\n      this.parkingService.addParking(parking).subscribe({\n        next: response => this.reloadData(),\n        error: error => console.log(error),\n        complete: () =>  this.parking=new Parking(),\n      });\n    }else{\n      this.parking.id=this.id;\n      this.parkingService.updateParking(parking).subscribe({\n        next: response => this.reloadData(),\n        error: error => console.log(error),\n        complete: () => this.parking=new Parking(),\n      });\n      this.id=null;\n    }\n    \n  }*/\n  public deleteUser(id: number): void {\n    console.log(id,\"dddddddddddddddddddddddddddd\");\n    \n    this.parkingService.deleteParking(id).subscribe({\n      next: response => this.parkings = this.parkings?.filter((s:Parking) => s.id != id),\n      error: error => console.log(error),\n      complete: () => console.log('Delete request completed.')\n    });\n  }\n  public confirmDeleteParking(id: number): void {\n  if (window.confirm('Are you sure you want to delete this user?')) {\n    this.deleteUser(id);\n  }\n  \n}\nopenFullDescription(event: Event, description: string) {\n  event.preventDefault();\n  this.dialog.open(DescriptionDialogComponent, {\n    data: description\n  });\n}\n\ngetImageUrl(filename: string): string {\n  return `http://localhost:8080/api/file/get-image/${filename}`;\n}\nnavigateToAddPage(){\n  this.router.navigate(['/admin/ajouterParking'])\n}\n\n\n\n\n\n}\n","<div class=\"col-12\">\n    <div class=\" rounded h-100 p-4\">\n        <h2 class=\"mb-4\">List Sopra Parkings</h2>\n        <button class=\"btn btn-primary\" (click)=\"navigateToAddPage()\">Add New Parking</button>\n\n\n        <div class=\"content-wrapper\">\n            <div class=\"container-xxl flex-grow-1 container-p-y\">\n\n<div class=\"table-responsive\">\n                    <table class=\"table table-responsive\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">id</th>\n                                <th scope=\"col\">image</th>\n                                <th scope=\"col\">nom</th>\n                                <th scope=\"col\">adresse</th>\n                                <th scope=\"col\">capaciteTotale</th>\n                                <th scope=\"col\">description</th>\n                                <th scope=\"col\">latitude</th>\n                                <th scope=\"col\">longitude</th>\n                                <th scope=\"col\"></th>\n                                <th scope=\"col\"></th>\n                            </tr>\n                        </thead>\n                        <tbody class=\"table-border-bottom-0\">\n                            <tr>\n                            <tr *ngFor=\"let parking of parkings\">\n                                <td>{{ parking.id }}</td>\n                                <img [src]=\"getImageUrl(parking.image)\" width=\"150px\" height=\"150px\">\n                                <td>{{ parking.nom }}</td>\n                                <td>{{ parking.adresse }}</td>\n                                <td>{{ parking.capaciteTotale }}</td>\n                                <td>{{ parking.description | slice:0:50}}<a href=\"#\" *ngIf=\"parking.description.length > 50\" class=\"read-more-link\" (click)=\"openFullDescription($event, parking.description)\"> Read More</a>\n                                </td>\n                                <td>{{ parking.latitude }}</td>\n                                <td>{{ parking.longitude }}</td>\n                                <td>\n                                    <button (click)=\"editeParking(parking.id)\" class=\"btn btn-success\">Editer</button>\n                                </td>\n                                <td>\n                                    <button (click)=\"confirmDeleteParking(parking.id)\"\n                                        class=\"btn btn-danger\">Delete</button>\n                                </td>\n                                <div class=\"modal fade\" id=\"descriptionModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"descriptionModalLabel\" aria-hidden=\"true\">\n                                    <div class=\"modal-dialog\" role=\"document\">\n                                        <div class=\"modal-content\">\n                                            <div class=\"modal-header\">\n                                                <h5 class=\"modal-title\" id=\"descriptionModalLabel\">Full Description</h5>\n                                                <button type=\"button\" class=\"btn-close\" data-bs-dismoss=\"modal\" aria-label=\"Close\"></button>\n                                            </div>\n                                            <div class=\"modal-body\">\n                                                {{selectedDescription}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                </div>\n            </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}