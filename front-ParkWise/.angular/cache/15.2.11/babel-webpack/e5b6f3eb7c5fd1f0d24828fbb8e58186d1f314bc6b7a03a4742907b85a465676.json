{"ast":null,"code":"import { Reservation } from 'src/app/models/reservation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/ReservationService/reservation.service\";\nimport * as i2 from \"src/app/services/UserService/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ListReservationComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"ul\", 10)(11, \"li\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reservation_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reservation_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", reservation_r1.debutReservation[0], \"/\", reservation_r1.debutReservation[1], \"/\", reservation_r1.debutReservation[2], \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", reservation_r1.finReservation[0], \"/\", reservation_r1.finReservation[1], \"/\", reservation_r1.finReservation[2], \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reservation_r1.estActive);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reservation_r1.utilisateur.firstname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reservation_r1.placeParking.numeroPlace);\n  }\n}\nexport class ListReservationComponent {\n  // Méthode pour définir l'élément actif du menu\n  setActiveMenuItem(menuItem) {\n    this.activeMenuItem = menuItem;\n  }\n  constructor(reservationService, userService, router) {\n    this.reservationService = reservationService;\n    this.userService = userService;\n    this.router = router;\n    this.activeMenuItem = ''; // Variable pour suivre l'élément actif du menu\n    this.reservation = new Reservation();\n    this.editbloc = new Reservation();\n  }\n  ngOnInit() {\n    this.userService.getUser().subscribe(data => {\n      if (data) {\n        this.users = data;\n        console.log(this.users);\n      }\n    });\n    this.reloadData();\n  }\n  reloadData() {\n    this.reservationService.displayReservations().subscribe(data => {\n      if (data) {\n        console.log(data);\n        this.resevations = data;\n      }\n    });\n  }\n  parseDate(dateStr) {\n    console.log(dateStr);\n    console.log(typeof dateStr);\n    if (typeof dateStr === 'string') {\n      const parts = dateStr.split(',').map(part => parseInt(part, 10));\n      return new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]);\n    }\n    return new Date();\n  }\n  static #_ = this.ɵfac = function ListReservationComponent_Factory(t) {\n    return new (t || ListReservationComponent)(i0.ɵɵdirectiveInject(i1.ReservationService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListReservationComponent,\n    selectors: [[\"app-list-reservation\"]],\n    decls: 25,\n    vars: 1,\n    consts: [[1, \"col-12\"], [1, \"rounded\", \"h-100\", \"p-4\"], [1, \"mb-4\"], [1, \"content-wrapper\"], [1, \"container-xxl\", \"flex-grow-1\", \"container-p-y\"], [1, \"card\"], [1, \"table\", \"custom-table\"], [\"scope\", \"col\"], [1, \"table-border-bottom-0\"], [4, \"ngFor\", \"ngForOf\"], [1, \"no-bullets\"]],\n    template: function ListReservationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n        i0.ɵɵtext(3, \"List Of Reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"table\", 6)(8, \"thead\");\n        i0.ɵɵelement(9, \"tr\");\n        i0.ɵɵelementStart(10, \"tr\")(11, \"th\", 7);\n        i0.ɵɵtext(12, \"id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 7);\n        i0.ɵɵtext(14, \"Date debut Reservation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 7);\n        i0.ɵɵtext(16, \"Date fin Reservation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\", 7);\n        i0.ɵɵtext(18, \"Etat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\", 7);\n        i0.ɵɵtext(20, \"Nom utilisateur \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 7);\n        i0.ɵɵtext(22, \"Place parking \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"tbody\", 8);\n        i0.ɵɵtemplate(24, ListReservationComponent_tr_24_Template, 15, 10, \"tr\", 9);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngForOf\", ctx.resevations);\n      }\n    },\n    dependencies: [i4.NgForOf],\n    styles: [\".no-bullets[_ngcontent-%COMP%] {\\n    list-style-type: none; \\n    padding-left: 0;      \\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFya2luZy9saXN0LXJlc2VydmF0aW9uL2xpc3QtcmVzZXJ2YXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQixFQUFFLG1DQUFtQztJQUMxRCxlQUFlLE9BQU8scUNBQXFDO0VBQzdEIiwic291cmNlc0NvbnRlbnQiOlsiLm5vLWJ1bGxldHMge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsgLyogVGhpcyByZW1vdmVzIHRoZSBidWxsZXQgcG9pbnRzICovXG4gICAgcGFkZGluZy1sZWZ0OiAwOyAgICAgIC8qIFRoaXMgcmVtb3ZlcyB0aGUgZGVmYXVsdCBwYWRkaW5nICovXG4gIH1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Reservation","i0","ListReservationComponent","setActiveMenuItem","menuItem","activeMenuItem","constructor","reservationService","userService","router","ngOnInit","getUser","subscribe","data","users","console","log","reloadData","displayReservations","resevations","parseDate","dateStr","parts","split","map","part","parseInt","Date","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-reservation\\list-reservation.component.ts","C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-reservation\\list-reservation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Bloc } from 'src/app/models/Bloc';\nimport { Reservation } from 'src/app/models/reservation';\nimport { ReservationService } from 'src/app/services/ReservationService/reservation.service';\nimport { UserService } from 'src/app/services/UserService/user.service';\n\n@Component({\n  selector: 'app-list-reservation',\n  templateUrl: './list-reservation.component.html',\n  styleUrls: ['./list-reservation.component.css']\n})\nexport class ListReservationComponent {\n\n\n  activeMenuItem: string = ''; // Variable pour suivre l'élément actif du menu\n\n  // Méthode pour définir l'élément actif du menu\n  setActiveMenuItem(menuItem: string) {\n    this.activeMenuItem = menuItem;\n  }\n\n  \n  reservation:Reservation=new Reservation();\n  blocs: any;\n  editbloc:Reservation=new Reservation();\n  id: any;\n  resevations!:any;\n  users:any;\n  constructor(private reservationService: ReservationService,private userService:UserService,private router:Router) { }\n\n  ngOnInit() {\n    this.userService.getUser().subscribe(data => {\n      if (data) {\n        this.users=data\n        console.log(this.users);\n      }\n    });\n    this.reloadData();\n  }\n\n  \n  reloadData() {\n    this.reservationService.displayReservations().subscribe(data => {\n      if (data) {\n        console.log(data);\n        this.resevations=data\n      }\n    });\n  }\n  parseDate(dateStr:any):Date{\n    console.log(dateStr);\n    console.log(typeof dateStr);\n    if(typeof dateStr==='string'){\n      const parts=dateStr.split(',').map(part=>parseInt(part,10));\n      return new Date(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]);\n    }\n    return new Date();\n    \n  }\n\n  \n\n\n\n}\n","<div class=\"col-12\">\n    <div class=\" rounded h-100 p-4\">\n        <h2 class=\"mb-4\">List Of Reservations</h2>\n\n\n        <div class=\"content-wrapper\">\n            <!-- Content -->\n\n            <div class=\"container-xxl flex-grow-1 container-p-y\">\n\n                <!-- Basic Bootstrap Table -->\n                <div class=\"card\">\n\n                    <table class=\"table custom-table\">\n                        <thead>\n                            <tr>\n                            <tr>\n                                <th scope=\"col\">id</th>\n                                <th scope=\"col\">Date debut Reservation</th>\n                                <th scope=\"col\">Date fin Reservation</th>\n                                <th scope=\"col\">Etat</th>\n                                <th scope=\"col\">Nom utilisateur </th>\n                                <th scope=\"col\">Place parking </th>\n                               \n                            </tr>\n                        </thead>\n                        <tbody class=\"table-border-bottom-0\">\n                                <tr *ngFor=\"let reservation of resevations\">\n                                    <td>{{ reservation.id }}</td>\n                                    <td>{{ reservation.debutReservation[0]}}/{{reservation.debutReservation[1]}}/{{reservation.debutReservation[2] }}</td>\n                                    <td>{{ reservation.finReservation[0]}}/{{reservation.finReservation[1]}}/{{reservation.finReservation[2] }}</td>\n                                    <td>{{ reservation.estActive }}</td>\n                                    <td>\n                                        <ul class=\"no-bullets\">\n                                            <li>{{ reservation.utilisateur.firstname }}</li>\n                                        </ul>\n                                    </td>\n                                    <td>{{ reservation.placeParking.numeroPlace }}</td>\n                                    \n                                </tr>\n                        </tbody>\n                        \n                    </table>\n                </div>\n            </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}