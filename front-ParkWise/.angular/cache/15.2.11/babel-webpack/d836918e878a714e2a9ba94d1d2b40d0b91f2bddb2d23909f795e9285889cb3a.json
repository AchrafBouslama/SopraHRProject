{"ast":null,"code":"import { Bloc } from 'src/app/models/Bloc';\nimport { PlaceParking } from 'src/app/models/PlaceParking';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/BlocService/bloc.service\";\nimport * as i2 from \"src/app/services/PlaceParkService/place-park.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AjouterPlaceparkingComponent_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Num\\u00E9ro de place requis!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AjouterPlaceparkingComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, AjouterPlaceparkingComponent_div_7_div_1_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.controls[\"numeroPlace\"].errors == null ? null : _r0.controls[\"numeroPlace\"].errors[\"required\"]);\n  }\n}\nfunction AjouterPlaceparkingComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bloc_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", bloc_r4.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(bloc_r4.identifiantBloc);\n  }\n}\nexport class AjouterPlaceparkingComponent {\n  constructor(blocService, placeParkingService, router) {\n    this.blocService = blocService;\n    this.placeParkingService = placeParkingService;\n    this.router = router;\n    this.placeParking = new PlaceParking();\n    this.editplaceParking = new PlaceParking();\n    this.bloc = new Bloc();\n  }\n  ngOnInit() {\n    this.placeParking.bloc = new Bloc();\n    this.blocService.displayBloc().subscribe(data => {\n      if (data) {\n        this.blocs = data;\n        console.log(this.blocs);\n      }\n    });\n  }\n  addOrEditePlaceParking(placeParking) {\n    console.log(\"blocblocbloc\", placeParking);\n    this.placeParkingService.addPlaceParkingToBloc(placeParking, placeParking.bloc.id).subscribe({\n      next: response => this.navigateToBlocList(),\n      error: error => console.log(error),\n      complete: () => this.placeParking = new PlaceParking()\n    });\n  }\n  navigateToBlocList() {\n    this.router.navigate(['/admin/ListPlaceParking']);\n  }\n  static #_ = this.ɵfac = function AjouterPlaceparkingComponent_Factory(t) {\n    return new (t || AjouterPlaceparkingComponent)(i0.ɵɵdirectiveInject(i1.BlocService), i0.ɵɵdirectiveInject(i2.PlaceParkService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AjouterPlaceparkingComponent,\n    selectors: [[\"app-ajouter-placeparking\"]],\n    decls: 28,\n    vars: 8,\n    consts: [[1, \"row\", \"myrow\"], [3, \"ngSubmit\"], [\"placeParkingForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"numeroPlace\"], [\"type\", \"text\", \"id\", \"numeroPlace\", \"name\", \"numeroPlace\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\", 2, \"margin-top\", \"10px\"], [\"for\", \"estAccessibleHandicap\"], [\"type\", \"checkbox\", \"id\", \"estAccessibleHandicap\", \"name\", \"estAccessibleHandicap\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"estReservee\"], [\"type\", \"checkbox\", \"id\", \"estReservee\", \"name\", \"estReservee\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"typePlace\"], [\"type\", \"text\", \"id\", \"typePlace\", \"name\", \"typePlace\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"bloc_id\"], [\"name\", \"bloc_id\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"option\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mybutton\", 3, \"disabled\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [1, \"option\", 3, \"value\"]],\n    template: function AjouterPlaceparkingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function AjouterPlaceparkingComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.addOrEditePlaceParking(ctx.placeParking);\n        });\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n        i0.ɵɵtext(5, \"Num\\u00E9ro de place:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function AjouterPlaceparkingComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.placeParking.numeroPlace = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, AjouterPlaceparkingComponent_div_7_Template, 2, 1, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n        i0.ɵɵtext(10, \"Accessible aux handicap\\u00E9s:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AjouterPlaceparkingComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.placeParking.estAccessibleHandicap = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 10);\n        i0.ɵɵtext(14, \"R\\u00E9serv\\u00E9e:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AjouterPlaceparkingComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.placeParking.estReservee = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 7)(17, \"label\", 12);\n        i0.ɵɵtext(18, \"Type de place:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AjouterPlaceparkingComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.placeParking.typePlace = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 7)(21, \"label\", 14);\n        i0.ɵɵtext(22, \"Bloc:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"select\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function AjouterPlaceparkingComponent_Template_select_ngModelChange_23_listener($event) {\n          return ctx.placeParking.bloc.id = $event;\n        });\n        i0.ɵɵtemplate(24, AjouterPlaceparkingComponent_option_24_Template, 2, 2, \"option\", 16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 7)(26, \"button\", 17);\n        i0.ɵɵtext(27, \"Enregistrer\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.placeParking.numeroPlace);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r0.controls[\"numeroPlace\"].touched && _r0.controls[\"numeroPlace\"].invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.placeParking.estAccessibleHandicap);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.placeParking.estReservee);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.placeParking.typePlace);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.placeParking.bloc.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.blocs);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AAEA,SAASA,IAAI,QAAQ,qBAAqB;AAC1C,SAASC,YAAY,QAAQ,6BAA6B;;;;;;;;;ICG1CC,2BAA2E;IAAAA,4CAAuB;IAAAA,iBAAM;;;;;IAD5GA,+BAA6I;IACzIA,oFAAwG;IAC5GA,iBAAM;;;;;IADIA,eAAmE;IAAnEA,yHAAmE;;;;;IAoBzEA,kCAAoE;IAAAA,YAAwB;IAAAA,iBAAS;;;;IAAnDA,kCAAiB;IAACA,eAAwB;IAAxBA,6CAAwB;;;ADb5G,OAAM,MAAOC,4BAA4B;EAQvCC,YAAoBC,WAAwB,EAASC,mBAAoC,EAASC,MAAa;IAA3F,gBAAW,GAAXF,WAAW;IAAsB,wBAAmB,GAAnBC,mBAAmB;IAA0B,WAAM,GAANC,MAAM;IANxG,iBAAY,GAAc,IAAIN,YAAY,EAAE;IAE5C,qBAAgB,GAAc,IAAIA,YAAY,EAAE;IAChD,SAAI,GAAM,IAAID,IAAI,EAAE;EAG+F;EAEnHQ,QAAQ;IACN,IAAI,CAACC,YAAY,CAACC,IAAI,GAAC,IAAIV,IAAI,EAAE;IACjC,IAAI,CAACK,WAAW,CAACM,WAAW,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAC9C,IAAIA,IAAI,EAAE;QACR,IAAI,CAACC,KAAK,GAACD,IAAI;QACfE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;;IAE3B,CAAC,CAAC;EACJ;EAEOG,sBAAsB,CAACR,YAA0B;IACtDM,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEP,YAAY,CAAC;IAEzC,IAAI,CAACH,mBAAmB,CAACY,qBAAqB,CAACT,YAAY,EAACA,YAAY,CAACC,IAAI,CAACS,EAAE,CAAC,CAACP,SAAS,CAAC;MACxFQ,IAAI,EAAEC,QAAQ,IAAI,IAAI,CAACC,kBAAkB,EAAE;MAC3CC,KAAK,EAAEA,KAAK,IAAIR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MAClCC,QAAQ,EAAE,MAAM,IAAI,CAACf,YAAY,GAAG,IAAIR,YAAY;KACvD,CAAC;EACN;EACUqB,kBAAkB;IACtB,IAAI,CAACf,MAAM,CAACkB,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC;EACrD;EAAC;qBA/BUtB,4BAA4B;EAAA;EAAA;UAA5BA,4BAA4B;IAAAuB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCbzC5B,8BAAuB;QACcA;UAAA,OAAY6B,4CAAoC;QAAA,EAAC;QAC9E7B,8BAAwB;QACKA,qCAAgB;QAAAA,iBAAQ;QACjDA,gCAA4H;QAArEA;UAAA;QAAA,EAAsC;QAA7FA,iBAA4H;QAC5HA,6EAEM;QACVA,iBAAM;QACNA,8BAAkD;QACXA,gDAA0B;QAAAA,iBAAQ;QACrEA,iCAA4L;QAA9DA;UAAA;QAAA,EAA6D;QAA3LA,iBAA4L;QAEhMA,+BAAkD;QACrBA,oCAAS;QAAAA,iBAAQ;QAC1CA,kCAAoJ;QAApDA;UAAA;QAAA,EAAmD;QAAnJA,iBAAoJ;QAIxJA,+BAAkD;QACvBA,+BAAc;QAAAA,iBAAQ;QAC7CA,kCAA6G;QAA1DA;UAAA;QAAA,EAAoC;QAAvFA,iBAA6G;QAEjHA,+BAAkD;QACzBA,sBAAK;QAAAA,iBAAQ;QAClCA,mCAA+E;QAAnCA;UAAA;QAAA,EAAkC;QAC1EA,sFAAqG;QACzGA,iBAAS;QAGbA,+BAAkD;QAC+CA,4BAAW;QAAAA,iBAAS;;;;QA3B1DA,eAAsC;QAAtCA,sDAAsC;QAC5DA,eAA0G;QAA1GA,iGAA0G;QAM5DA,eAA8C;QAA9CA,gEAA8C;QAIlEA,eAAoC;QAApCA,sDAAoC;QAM5CA,eAAoC;QAApCA,oDAAoC;QAI3CA,eAAkC;QAAlCA,kDAAkC;QAClCA,eAAQ;QAARA,mCAAQ;QAKGA,eAAqC;QAArCA,sCAAqC","names":["Bloc","PlaceParking","i0","AjouterPlaceparkingComponent","constructor","blocService","placeParkingService","router","ngOnInit","placeParking","bloc","displayBloc","subscribe","data","blocs","console","log","addOrEditePlaceParking","addPlaceParkingToBloc","id","next","response","navigateToBlocList","error","complete","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-placeparking\\ajouter-placeparking\\ajouter-placeparking.component.ts","C:\\Users\\abouslama\\Desktop\\SopraHRProject\\front-ParkWise\\src\\app\\parking\\list-placeparking\\ajouter-placeparking\\ajouter-placeparking.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Bloc } from 'src/app/models/Bloc';\nimport { PlaceParking } from 'src/app/models/PlaceParking';\nimport { BlocService } from 'src/app/services/BlocService/bloc.service';\nimport { EtageService } from 'src/app/services/EtageService/etage.service';\nimport { PlaceParkService } from 'src/app/services/PlaceParkService/place-park.service';\n\n@Component({\n  selector: 'app-ajouter-placeparking',\n  templateUrl: './ajouter-placeparking.component.html',\n  styleUrls: ['./ajouter-placeparking.component.css']\n})\nexport class AjouterPlaceparkingComponent {\n\n  placeParking:PlaceParking=new PlaceParking(); \n  etages:any;\n  editplaceParking:PlaceParking=new PlaceParking();\n  bloc:Bloc=new Bloc(); \n  id: any;\n  blocs!:any;\n  constructor(private blocService: BlocService,private placeParkingService:PlaceParkService,private router:Router) { }\n\n  ngOnInit() {\n    this.placeParking.bloc=new Bloc();\n    this.blocService.displayBloc().subscribe(data => {\n      if (data) {\n        this.blocs=data\n        console.log(this.blocs);\n      }\n    });\n  }\n\n  public addOrEditePlaceParking(placeParking: PlaceParking) {\n    console.log(\"blocblocbloc\", placeParking);\n    \n    this.placeParkingService.addPlaceParkingToBloc(placeParking,placeParking.bloc.id).subscribe({\n        next: response => this.navigateToBlocList(),\n        error: error => console.log(error),\n        complete: () => this.placeParking = new PlaceParking(),\n    });\n}\n  private navigateToBlocList(){\n      this.router.navigate(['/admin/ListPlaceParking'])\n  }\n\n\n\n}\n","<div class=\"row myrow\">\n    <form #placeParkingForm=\"ngForm\" (ngSubmit)=\"addOrEditePlaceParking(placeParking)\">\n        <div class=\"form-group\">\n            <label for=\"numeroPlace\">Numéro de place:</label>\n            <input type=\"text\" id=\"numeroPlace\" name=\"numeroPlace\" [(ngModel)]=\"placeParking.numeroPlace\" class=\"form-control\" required>\n            <div class=\"alert alert-danger\" *ngIf=\"placeParkingForm.controls['numeroPlace'].touched && placeParkingForm.controls['numeroPlace'].invalid\">\n                <div *ngIf=\"placeParkingForm.controls['numeroPlace'].errors?.['required']\">Numéro de place requis!</div>\n            </div>\n        </div>\n        <div class=\"form-group\" style=\"margin-top: 10px;\">\n            <label for=\"estAccessibleHandicap\">Accessible aux handicapés:</label>\n            <input type=\"checkbox\" id=\"estAccessibleHandicap\" name=\"estAccessibleHandicap\" [ngModel]=\"placeParking.estAccessibleHandicap\" (ngModelChange)=\"placeParking.estAccessibleHandicap = $event\">\n        </div>\n        <div class=\"form-group\" style=\"margin-top: 10px;\">\n            <label for=\"estReservee\">Réservée:</label>\n            <input type=\"checkbox\" id=\"estReservee\" name=\"estReservee\" [ngModel]=\"placeParking.estReservee\" (ngModelChange)=\"placeParking.estReservee = $event\">\n        </div>\n        \n        \n        <div class=\"form-group\" style=\"margin-top: 10px;\">\n            <label for=\"typePlace\">Type de place:</label>\n            <input type=\"text\" id=\"typePlace\" name=\"typePlace\" [(ngModel)]=\"placeParking.typePlace\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\" style=\"margin-top: 10px;\">\n            <label for=\"bloc_id\">Bloc:</label>\n            <select class=\"form-control\" name=\"bloc_id\" [(ngModel)]=\"placeParking.bloc.id\">\n                <option class=\"option\" *ngFor=\"let bloc of blocs\" [value]=\"bloc.id\">{{bloc.identifiantBloc}}</option>\n            </select>\n        </div>\n        <!-- Ajouter d'autres champs si nécessaire -->\n        <div class=\"form-group\" style=\"margin-top: 10px;\">\n            <button type=\"submit\" class=\"btn btn-primary mybutton\" [disabled]=\"placeParkingForm.invalid\">Enregistrer</button>\n        </div>\n    </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}